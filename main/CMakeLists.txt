idf_component_register(SRCS "main.c"
                            "adapter/adapter.c"
                            "adapter/config.c"
                            "adapter/hid_parser.c"
                            "adapter/hid_generic.c"
                            "adapter/npiso.c"
                            "adapter/segaio.c"
                            "adapter/n64.c"
                            "adapter/dc.c"
                            "adapter/gc.c"
                            "adapter/ps3.c"
                            "adapter/wii.c"
                            "adapter/ps4.c"
                            "adapter/xb1.c"
                            "adapter/sw.c"
                            "bluetooth/host.c"
                            "bluetooth/hci.c"
                            "bluetooth/l2cap.c"
                            "bluetooth/sdp.c"
                            "bluetooth/att.c"
                            "bluetooth/hidp.c"
                            "bluetooth/hidp_generic.c"
                            "bluetooth/hidp_ps3.c"
                            "bluetooth/hidp_wii.c"
                            "bluetooth/hidp_ps4.c"
                            "bluetooth/hidp_xb1.c"
                            "bluetooth/hidp_sw.c"
                            "drivers/led.c"
                            "drivers/sd.c"
                            "wired/detect.c"
                            "wired/npiso.c"
                            "wired/sega_io.c"
                            "wired/nsi.c"
                            "wired/maple.c"
                            "zephyr/atomic.S"
                            "zephyr/xtensa_context.S"
                    INCLUDE_DIRS "."
                                 "adapter"
                                 "bluetooth"
                                 "drivers"
                                 "wired"
                                 "zephyr")
idf_build_set_property(COMPILE_DEFINITIONS "-DBLUERETRO" APPEND)
